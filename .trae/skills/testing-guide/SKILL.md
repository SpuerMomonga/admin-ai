---
name: testing-guide
description: 单元测试/集成测试/覆盖率/测试数据管理的可执行规范与工作流。用于新增测试、补齐回归用例、提升可测性与覆盖率门槛、规范测试数据与环境。
license: Complete terms in LICENSE.txt
---

本技能提供一套可直接落地的测试规范与工作流，用于在项目内持续产出稳定、可维护、可定位问题的测试。

## 快速开始

1. 明确测试目标：要防回归的行为是什么（输入/输出/副作用/错误语义）。
2. 选择测试类型：
   - 行为规则、纯逻辑：优先单元测试
   - 模块协作、数据库/外部依赖：集成测试（必要时用替身/容器）
3. 固化质量门槛：
   - 关键路径必须覆盖（新增/修复的逻辑必测）
   - 用例命名清晰、断言指向行为而非实现
4. 让测试可重复：时间/随机性/外部依赖全部可控。

## 工作流（写一个可靠测试）

1. **列出用例表**：正常路径 + 边界 + 错误 + 幂等/重试（如适用）。
2. **搭建最小可运行夹具**：只引入必要数据；不要复用过度耦合的“大夹具”。
3. **执行-断言-清理（AAA）**：Arrange / Act / Assert；清理资源与隔离状态。
4. **失败信息可定位**：断言信息包含关键上下文（脱敏），日志可关联请求/用例。
5. **避免脆弱性**：不依赖不稳定顺序、当前时间、网络波动、全局单例残留。

## 参考文档

- 单元测试规范与示例：references/unit-testing.md
- 集成测试策略：references/integration-testing.md
- 覆盖率要求：references/coverage.md
- 测试数据管理：references/test-data.md

